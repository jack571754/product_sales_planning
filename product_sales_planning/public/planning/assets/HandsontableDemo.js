import{u as R}from"./useHandsontable.js";import{_ as j,p as b,b as L,y as N,c as U,o as p,a as t,h as s,i as a,S as l,w as n,M as i,U as g,t as x,f as w,a1 as v}from"./index.js";const E={class:"min-h-screen bg-gray-50 p-6 md:p-8"},T={class:"mx-auto max-w-7xl space-y-6"},V={class:"rounded-lg border border-gray-200 bg-white p-5 shadow-sm"},A={class:"flex items-center gap-2 mb-3 text-gray-900 font-medium"},z={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 text-sm text-gray-600"},F={class:"flex items-center gap-2"},I={class:"flex items-center gap-2"},K={class:"flex items-center gap-2"},O={class:"flex items-center gap-2"},P={class:"flex items-center gap-2"},q={class:"flex items-center gap-2"},G={class:"rounded-lg border border-gray-200 bg-white p-5 shadow-sm"},J={class:"flex flex-wrap items-center gap-3"},Q={class:"ml-auto flex items-center gap-2 text-sm text-gray-600"},W={class:"rounded-lg border border-gray-200 bg-white shadow-sm overflow-hidden"},X={class:"border-b border-gray-100 px-5 py-3 bg-gray-50"},Y={class:"flex items-center justify-between"},Z={class:"flex items-center gap-2 text-gray-900 font-medium"},ee={class:"p-4"},te={class:"rounded-lg border border-blue-100 bg-blue-50 p-5"},ae={class:"flex items-start gap-3"},se={__name:"HandsontableDemo",setup(le){const _=b(null),r=b([]),u=b([]),y=()=>{const o=["电子产品","服装鞋帽","食品饮料","家居用品","图书文具"],e=["品牌A","品牌B","品牌C","品牌D","品牌E"],c=["在售","缺货","预售","下架"];return Array.from({length:50},(h,d)=>({id:`P${String(d+1).padStart(4,"0")}`,name:`商品名称 ${d+1}`,code:`SKU${String(d+1).padStart(6,"0")}`,category:o[Math.floor(Math.random()*o.length)],brand:e[Math.floor(Math.random()*e.length)],price:(Math.random()*1e3+10).toFixed(2),stock:Math.floor(Math.random()*1e3),sales:Math.floor(Math.random()*500),status:c[Math.floor(Math.random()*c.length)],createDate:new Date(2024,Math.floor(Math.random()*12),Math.floor(Math.random()*28)+1).toLocaleDateString("zh-CN")}))},k=[{data:"id",title:"ID",width:100,readOnly:!0},{data:"name",title:"商品名称",width:200},{data:"code",title:"商品编码",width:150},{data:"category",title:"分类",width:120,type:"dropdown",source:["电子产品","服装鞋帽","食品饮料","家居用品","图书文具"]},{data:"brand",title:"品牌",width:120},{data:"price",title:"价格",width:100,type:"numeric",numericFormat:{pattern:"0,0.00"}},{data:"stock",title:"库存",width:100,type:"numeric"},{data:"sales",title:"销量",width:100,type:"numeric"},{data:"status",title:"状态",width:100,type:"dropdown",source:["在售","缺货","预售","下架"]},{data:"createDate",title:"创建日期",width:120}],{loading:m,error:D,updateData:f,getData:S,clearSelection:M}=R(_,{data:L(()=>r.value),columns:k,colHeaders:!0,rowHeaders:!0,fixedColumnsLeft:3,contextMenu:!0,dropdownMenu:!0,filters:!0,columnSorting:!0,onDataChange:(o,e)=>{console.log("数据变化:",o,"来源:",e)},onSelectionChange:o=>{u.value=o,console.log("选中行:",o)}}),C=()=>{const o={id:`P${String(r.value.length+1).padStart(4,"0")}`,name:"新商品",code:`SKU${String(r.value.length+1).padStart(6,"0")}`,category:"电子产品",brand:"品牌A",price:"0.00",stock:0,sales:0,status:"在售",createDate:new Date().toLocaleDateString("zh-CN")};r.value.push(o),f(r.value)},$=()=>{if(u.value.length===0)return;[...u.value].sort((e,c)=>c-e).forEach(e=>{r.value.splice(e,1)}),f(r.value),M()},H=()=>{const o=S(),e=[k.map(d=>d.title).join(","),...o.map(d=>d.join(","))].join(`
`),c=new Blob(["\uFEFF"+e],{type:"text/csv;charset=utf-8;"}),h=document.createElement("a");h.href=URL.createObjectURL(c),h.download=`handsontable_demo_${new Date().getTime()}.csv`,h.click()},B=()=>{r.value=y(),f(r.value),M()};return N(()=>{r.value=y()}),(o,e)=>(p(),U("div",E,[t("div",T,[e[15]||(e[15]=t("div",{class:"flex flex-col gap-1"},[t("h1",{class:"text-3xl font-bold text-gray-900"},"Handsontable 示例"),t("p",{class:"text-gray-500"},"展示 Handsontable 表格组件的功能和用法")],-1)),t("div",V,[t("div",A,[s(a(l),{name:"info",class:"h-4 w-4 text-blue-500"}),e[0]||(e[0]=t("span",null,"功能特性",-1))]),t("div",z,[t("div",F,[s(a(l),{name:"check-circle",class:"h-4 w-4 text-green-500"}),e[1]||(e[1]=t("span",null,"支持单元格编辑",-1))]),t("div",I,[s(a(l),{name:"check-circle",class:"h-4 w-4 text-green-500"}),e[2]||(e[2]=t("span",null,"列排序和筛选",-1))]),t("div",K,[s(a(l),{name:"check-circle",class:"h-4 w-4 text-green-500"}),e[3]||(e[3]=t("span",null,"固定列（左侧3列）",-1))]),t("div",O,[s(a(l),{name:"check-circle",class:"h-4 w-4 text-green-500"}),e[4]||(e[4]=t("span",null,"右键菜单操作",-1))]),t("div",P,[s(a(l),{name:"check-circle",class:"h-4 w-4 text-green-500"}),e[5]||(e[5]=t("span",null,"复制粘贴功能",-1))]),t("div",q,[s(a(l),{name:"check-circle",class:"h-4 w-4 text-green-500"}),e[6]||(e[6]=t("span",null,"中文语言支持",-1))])])]),t("div",G,[t("div",J,[s(a(g),{variant:"solid",theme:"blue",onClick:C,disabled:a(m)},{prefix:n(()=>[s(a(l),{name:"plus",class:"h-4 w-4"})]),default:n(()=>[e[7]||(e[7]=i(" 添加行 ",-1))]),_:1},8,["disabled"]),s(a(g),{variant:"solid",theme:"red",onClick:$,disabled:a(m)||u.value.length===0},{prefix:n(()=>[s(a(l),{name:"trash-2",class:"h-4 w-4"})]),default:n(()=>[i(" 删除选中 ("+x(u.value.length)+") ",1)]),_:1},8,["disabled"]),s(a(g),{variant:"solid",theme:"green",onClick:H,disabled:a(m)},{prefix:n(()=>[s(a(l),{name:"download",class:"h-4 w-4"})]),default:n(()=>[e[8]||(e[8]=i(" 导出数据 ",-1))]),_:1},8,["disabled"]),s(a(g),{variant:"subtle",theme:"gray",onClick:B,disabled:a(m)},{prefix:n(()=>[s(a(l),{name:"refresh-cw",class:"h-4 w-4"})]),default:n(()=>[e[9]||(e[9]=i(" 刷新 ",-1))]),_:1},8,["disabled"]),t("div",Q,[s(a(l),{name:"database",class:"h-4 w-4"}),t("span",null,"共 "+x(r.value.length)+" 条数据",1)])])]),t("div",W,[t("div",X,[t("div",Y,[t("div",Z,[s(a(l),{name:"table",class:"h-4 w-4 text-gray-500"}),e[10]||(e[10]=t("span",null,"数据表格",-1))]),a(m)?(p(),w(a(v),{key:0,theme:"blue",variant:"subtle"},{prefix:n(()=>[...e[11]||(e[11]=[t("div",{class:"h-3 w-3 animate-spin rounded-full border-2 border-blue-100 border-t-blue-600"},null,-1)])]),default:n(()=>[e[12]||(e[12]=i(" 加载中... ",-1))]),_:1})):a(D)?(p(),w(a(v),{key:1,theme:"red",variant:"subtle"},{prefix:n(()=>[s(a(l),{name:"alert-circle",class:"h-3 w-3"})]),default:n(()=>[i(" "+x(a(D)),1)]),_:1})):(p(),w(a(v),{key:2,theme:"green",variant:"subtle"},{prefix:n(()=>[s(a(l),{name:"check",class:"h-3 w-3"})]),default:n(()=>[e[13]||(e[13]=i(" 就绪 ",-1))]),_:1}))])]),t("div",ee,[t("div",{ref_key:"tableContainer",ref:_,class:"handsontable-container",style:{height:"600px",overflow:"hidden"}},null,512)])]),t("div",te,[t("div",ae,[s(a(l),{name:"book-open",class:"h-5 w-5 text-blue-600 mt-0.5"}),e[14]||(e[14]=t("div",{class:"space-y-2 text-sm text-blue-900"},[t("p",{class:"font-medium"},"使用提示："),t("ul",{class:"list-disc list-inside space-y-1 text-blue-800"},[t("li",null,"双击单元格可以编辑内容"),t("li",null,"点击列标题可以排序"),t("li",null,"右键单击可以查看更多操作选项"),t("li",null,"使用 Ctrl+C / Ctrl+V 可以复制粘贴数据"),t("li",null,"拖动列边界可以调整列宽"),t("li",null,"左侧前3列为固定列，横向滚动时保持可见")])],-1))])])])]))}},re=j(se,[["__scopeId","data-v-20399838"]]);export{re as default};
