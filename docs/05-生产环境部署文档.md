# ç”Ÿäº§çŽ¯å¢ƒéƒ¨ç½²æ–‡æ¡£ï¼ˆLinuxæœåŠ¡å™¨ï¼‰

> **ç‰ˆæœ¬**: 1.0.0  
> **æœ€åŽæ›´æ–°**: 2025-12-13  
> **é€‚ç”¨ç³»ç»Ÿ**: Ubuntu 20.04/22.04, Debian 11/12, CentOS 8+

---

## ðŸ“‹ ç›®å½•

1. [æœåŠ¡å™¨è¦æ±‚](#æœåŠ¡å™¨è¦æ±‚)
2. [çŽ¯å¢ƒå‡†å¤‡](#çŽ¯å¢ƒå‡†å¤‡)
3. [å®‰è£…Frappe](#å®‰è£…frappe)
4. [éƒ¨ç½²åº”ç”¨](#éƒ¨ç½²åº”ç”¨)
5. [ç”Ÿäº§çŽ¯å¢ƒé…ç½®](#ç”Ÿäº§çŽ¯å¢ƒé…ç½®)
6. [æ€§èƒ½ä¼˜åŒ–](#æ€§èƒ½ä¼˜åŒ–)
7. [å®‰å…¨åŠ å›º](#å®‰å…¨åŠ å›º)
8. [ç›‘æŽ§å’Œç»´æŠ¤](#ç›‘æŽ§å’Œç»´æŠ¤)
9. [æ•…éšœæŽ’æŸ¥](#æ•…éšœæŽ’æŸ¥)

---

## æœåŠ¡å™¨è¦æ±‚

### 1.1 ç¡¬ä»¶è¦æ±‚

**æœ€ä½Žé…ç½®**:
- CPU: 2æ ¸å¿ƒ
- å†…å­˜: 4GB RAM
- ç¡¬ç›˜: 40GB SSD
- ç½‘ç»œ: 10Mbps

**æŽ¨èé…ç½®**:
- CPU: 4æ ¸å¿ƒæˆ–æ›´å¤š
- å†…å­˜: 8GB RAMæˆ–æ›´å¤š
- ç¡¬ç›˜: 100GB SSD
- ç½‘ç»œ: 100Mbpsæˆ–æ›´é«˜

### 1.2 è½¯ä»¶è¦æ±‚

- æ“ä½œç³»ç»Ÿ: Ubuntu 20.04/22.04 LTSï¼ˆæŽ¨èï¼‰
- Python: 3.10+
- Node.js: 16.xæˆ–18.x
- MariaDB: 10.6+
- Redis: 6.x+
- Nginx: 1.18+

### 1.3 ç½‘ç»œè¦æ±‚

- å¼€æ”¾ç«¯å£: 80 (HTTP), 443 (HTTPS), 22 (SSH)
- åŸŸåï¼ˆæŽ¨èï¼‰
- SSLè¯ä¹¦ï¼ˆæŽ¨èä½¿ç”¨Let's Encryptï¼‰

---

## çŽ¯å¢ƒå‡†å¤‡

### 2.1 æ›´æ–°ç³»ç»Ÿ

```bash
# Ubuntu/Debian
sudo apt update && sudo apt upgrade -y

# CentOS/RHEL
sudo yum update -y
```

### 2.2 å®‰è£…ä¾èµ–

```bash
# Ubuntu/Debian
sudo apt install -y \
    git python3-dev python3-pip python3-venv \
    redis-server mariadb-server mariadb-client \
    nginx supervisor curl wget \
    libmysqlclient-dev libffi-dev libssl-dev \
    wkhtmltopdf xvfb libfontconfig

# CentOS/RHEL
sudo yum install -y \
    git python3-devel python3-pip \
    redis mariadb-server mariadb \
    nginx supervisor curl wget \
    mariadb-devel libffi-devel openssl-devel \
    wkhtmltopdf xorg-x11-server-Xvfb fontconfig
```

### 2.3 å®‰è£…Node.js

```bash
# ä½¿ç”¨NodeSourceä»“åº“å®‰è£…Node.js 18.x
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt install -y nodejs

# å®‰è£…yarn
sudo npm install -g yarn
```

### 2.4 é…ç½®MariaDB

```bash
# å¯åŠ¨MariaDB
sudo systemctl start mariadb
sudo systemctl enable mariadb

# å®‰å…¨é…ç½®
sudo mysql_secure_installation
```

**MariaDBé…ç½®æ–‡ä»¶** (`/etc/mysql/mariadb.conf.d/50-server.cnf`):
```ini
[mysqld]
character-set-client-handshake = FALSE
character-set-server = utf8mb4
collation-server = utf8mb4_unicode_ci

# InnoDBè®¾ç½®
innodb_buffer_pool_size = 2G
innodb_log_file_size = 512M
innodb_flush_log_at_trx_commit = 2
innodb_flush_method = O_DIRECT

# è¿žæŽ¥è®¾ç½®
max_connections = 500
max_allowed_packet = 256M

# æŸ¥è¯¢ç¼“å­˜
query_cache_size = 0
query_cache_type = 0

[mysql]
default-character-set = utf8mb4
```

é‡å¯MariaDB:
```bash
sudo systemctl restart mariadb
```

### 2.5 é…ç½®Redis

```bash
# å¯åŠ¨Redis
sudo systemctl start redis-server
sudo systemctl enable redis-server

# é…ç½®Rediså¯†ç ï¼ˆå¯é€‰ï¼‰
sudo nano /etc/redis/redis.conf
# å–æ¶ˆæ³¨é‡Šå¹¶è®¾ç½®: requirepass your_strong_password

sudo systemctl restart redis-server
```

---

## å®‰è£…Frappe

### 3.1 åˆ›å»ºç”¨æˆ·

```bash
# åˆ›å»ºfrappeç”¨æˆ·
sudo adduser frappe --home /home/frappe
sudo usermod -aG sudo frappe

# åˆ‡æ¢åˆ°frappeç”¨æˆ·
su - frappe
```

### 3.2 å®‰è£…Frappe Bench

```bash
# å®‰è£…bench
sudo pip3 install frappe-bench

# åˆå§‹åŒ–bench
cd /home/frappe
bench init frappe-bench --frappe-branch version-15

# è¿›å…¥benchç›®å½•
cd frappe-bench
```

### 3.3 åˆ›å»ºç«™ç‚¹

```bash
# åˆ›å»ºæ–°ç«™ç‚¹
bench new-site your-site.com \
    --mariadb-root-password your_mysql_root_password \
    --admin-password your_admin_password

# è®¾ç½®å½“å‰ç«™ç‚¹
bench use your-site.com
```

---

## éƒ¨ç½²åº”ç”¨

### 4.1 èŽ·å–åº”ç”¨

```bash
# æ–¹å¼1: ä»ŽGitä»“åº“èŽ·å–
bench get-app product_sales_planning https://github.com/your-repo/product_sales_planning.git

# æ–¹å¼2: ä»Žæœ¬åœ°è·¯å¾„èŽ·å–
bench get-app /path/to/product_sales_planning
```

### 4.2 å®‰è£…åº”ç”¨

```bash
# å®‰è£…åº”ç”¨åˆ°ç«™ç‚¹
bench --site your-site.com install-app product_sales_planning

# è¿è¡Œæ•°æ®åº“è¿ç§»
bench --site your-site.com migrate
```

### 4.3 æž„å»ºå‰ç«¯èµ„æº

```bash
# å®‰è£…å‰ç«¯ä¾èµ–
cd apps/product_sales_planning/frontend
yarn install

# æž„å»ºVueå‰ç«¯
yarn build

# è¿”å›žbenchç›®å½•
cd /home/frappe/frappe-bench

# æž„å»ºFrappeèµ„æº
bench build --app product_sales_planning

# æ¸…é™¤ç¼“å­˜
bench --site your-site.com clear-cache
```

---

## ç”Ÿäº§çŽ¯å¢ƒé…ç½®

### 5.1 é…ç½®ç”Ÿäº§çŽ¯å¢ƒ

```bash
# è®¾ç½®ä¸ºç”Ÿäº§æ¨¡å¼
bench setup production frappe

# è¿™ä¸ªå‘½ä»¤ä¼šè‡ªåŠ¨é…ç½®:
# - Nginxé…ç½®
# - Supervisoré…ç½®
# - ç³»ç»ŸæœåŠ¡
```

### 5.2 é…ç½®Nginx

**ç«™ç‚¹é…ç½®** (`/etc/nginx/sites-available/your-site.com`):
```nginx
upstream frappe-bench-frappe {
    server 127.0.0.1:8000 fail_timeout=0;
}

upstream frappe-bench-socketio {
    server 127.0.0.1:9000 fail_timeout=0;
}

# HTTPé‡å®šå‘åˆ°HTTPS
server {
    listen 80;
    server_name your-site.com www.your-site.com;
    return 301 https://$server_name$request_uri;
}

# HTTPSé…ç½®
server {
    listen 443 ssl http2;
    server_name your-site.com www.your-site.com;

    root /home/frappe/frappe-bench/sites;

    # SSLè¯ä¹¦
    ssl_certificate /etc/letsencrypt/live/your-site.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/your-site.com/privkey.pem;
    ssl_session_timeout 5m;
    ssl_session_cache shared:SSL:10m;
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers HIGH:!aNULL:!MD5;
    ssl_prefer_server_ciphers on;

    # å®‰å…¨å¤´
    add_header X-Frame-Options "SAMEORIGIN" always;
    add_header X-Content-Type-Options "nosniff" always;
    add_header X-XSS-Protection "1; mode=block" always;
    add_header Strict-Transport-Security "max-age=31536000; includeSubDomains" always;

    # æ—¥å¿—
    access_log /var/log/nginx/your-site.access.log;
    error_log /var/log/nginx/your-site.error.log;

    # å®¢æˆ·ç«¯ä¸Šä¼ å¤§å°é™åˆ¶
    client_max_body_size 50m;
    client_body_buffer_size 16k;
    client_body_timeout 600s;

    # GzipåŽ‹ç¼©
    gzip on;
    gzip_vary on;
    gzip_min_length 1024;
    gzip_types text/plain text/css text/xml text/javascript 
               application/x-javascript application/xml+rss 
               application/javascript application/json;

    # é™æ€æ–‡ä»¶
    location /assets {
        try_files $uri =404;
        expires 1y;
        add_header Cache-Control "public, immutable";
    }

    location /files {
        try_files $uri =404;
        expires 1y;
        add_header Cache-Control "public, immutable";
    }

    # Socket.IO
    location /socket.io {
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
        proxy_set_header X-Frappe-Site-Name your-site.com;
        proxy_set_header Origin $scheme://$http_host;
        proxy_set_header Host $host;

        proxy_pass http://frappe-bench-socketio;
    }

    # ä¸»åº”ç”¨
    location / {
        try_files $uri $uri/ @frappe;
    }

    location @frappe {
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Frappe-Site-Name your-site.com;
        proxy_set_header Host $host;
        proxy_set_header X-Use-X-Accel-Redirect True;
        proxy_read_timeout 600;
        proxy_connect_timeout 600;
        proxy_send_timeout 600;

        proxy_pass http://frappe-bench-frappe;
    }
}
```

å¯ç”¨ç«™ç‚¹:
```bash
sudo ln -s /etc/nginx/sites-available/your-site.com /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx
```

### 5.3 é…ç½®SSLè¯ä¹¦

```bash
# å®‰è£…Certbot
sudo apt install certbot python3-certbot-nginx

# èŽ·å–SSLè¯ä¹¦
sudo certbot --nginx -d your-site.com -d www.your-site.com

# è‡ªåŠ¨ç»­æœŸ
sudo certbot renew --dry-run
```

### 5.4 é…ç½®Supervisor

**Supervisoré…ç½®** (`/etc/supervisor/conf.d/frappe-bench.conf`):
```ini
[group:frappe-bench-web]
programs=frappe-bench-frappe-web,frappe-bench-node-socketio

[program:frappe-bench-frappe-web]
command=/home/frappe/frappe-bench/env/bin/gunicorn -b 127.0.0.1:8000 -w 4 --timeout 600 --graceful-timeout 30 frappe.app:application --preload
priority=4
autostart=true
autorestart=true
stdout_logfile=/home/frappe/frappe-bench/logs/web.log
stderr_logfile=/home/frappe/frappe-bench/logs/web.error.log
user=frappe
directory=/home/frappe/frappe-bench/sites

[program:frappe-bench-node-socketio]
command=/usr/bin/node /home/frappe/frappe-bench/apps/frappe/socketio.js
priority=4
autostart=true
autorestart=true
stdout_logfile=/home/frappe/frappe-bench/logs/node-socketio.log
stderr_logfile=/home/frappe/frappe-bench/logs/node-socketio.error.log
user=frappe
directory=/home/frappe/frappe-bench

[group:frappe-bench-workers]
programs=frappe-bench-frappe-schedule,frappe-bench-frappe-default-worker,frappe-bench-frappe-short-worker,frappe-bench-frappe-long-worker

[program:frappe-bench-frappe-schedule]
command=/home/frappe/frappe-bench/env/bin/bench schedule
priority=3
autostart=true
autorestart=true
stdout_logfile=/home/frappe/frappe-bench/logs/schedule.log
stderr_logfile=/home/frappe/frappe-bench/logs/schedule.error.log
user=frappe
directory=/home/frappe/frappe-bench

[program:frappe-bench-frappe-default-worker]
command=/home/frappe/frappe-bench/env/bin/bench worker --queue default
priority=4
autostart=true
autorestart=true
stdout_logfile=/home/frappe/frappe-bench/logs/worker.log
stderr_logfile=/home/frappe/frappe-bench/logs/worker.error.log
user=frappe
stopwaitsecs=1560
directory=/home/frappe/frappe-bench
killasgroup=true
numprocs=1
process_name=%(program_name)s-%(process_num)d

[program:frappe-bench-frappe-short-worker]
command=/home/frappe/frappe-bench/env/bin/bench worker --queue short
priority=4
autostart=true
autorestart=true
stdout_logfile=/home/frappe/frappe-bench/logs/worker.log
stderr_logfile=/home/frappe/frappe-bench/logs/worker.error.log
user=frappe
stopwaitsecs=360
directory=/home/frappe/frappe-bench
killasgroup=true
numprocs=1
process_name=%(program_name)s-%(process_num)d

[program:frappe-bench-frappe-long-worker]
command=/home/frappe/frappe-bench/env/bin/bench worker --queue long
priority=4
autostart=true
autorestart=true
stdout_logfile=/home/frappe/frappe-bench/logs/worker.log
stderr_logfile=/home/frappe/frappe-bench/logs/worker.error.log
user=frappe
stopwaitsecs=1560
directory=/home/frappe/frappe-bench
killasgroup=true
numprocs=1
process_name=%(program_name)s-%(process_num)d

[program:frappe-bench-redis-cache]
command=/usr/bin/redis-server /home/frappe/frappe-bench/config/redis_cache.conf
priority=1
autostart=true
autorestart=true
stdout_logfile=/home/frappe/frappe-bench/logs/redis-cache.log
stderr_logfile=/home/frappe/frappe-bench/logs/redis-cache.error.log
user=frappe
directory=/home/frappe/frappe-bench/sites

[program:frappe-bench-redis-queue]
command=/usr/bin/redis-server /home/frappe/frappe-bench/config/redis_queue.conf
priority=1
autostart=true
autorestart=true
stdout_logfile=/home/frappe/frappe-bench/logs/redis-queue.log
stderr_logfile=/home/frappe/frappe-bench/logs/redis-queue.error.log
user=frappe
directory=/home/frappe/frappe-bench/sites
```

é‡æ–°åŠ è½½Supervisor:
```bash
sudo supervisorctl reread
sudo supervisorctl update
sudo supervisorctl status
```

### 5.5 ç«™ç‚¹é…ç½®

**ç«™ç‚¹é…ç½®æ–‡ä»¶** (`sites/your-site.com/site_config.json`):
```json
{
 "db_name": "your_db_name",
 "db_password": "your_db_password",
 "db_type": "mariadb",
 "developer_mode": 0,
 "disable_website_cache": false,
 "encryption_key": "your_encryption_key",
 "host_name": "https://your-site.com",
 "limits": {
  "space_usage": {
   "database_size": 500,
   "files_size": 1000,
   "backup_size": 500
  }
 },
 "mail_server": "smtp.gmail.com",
 "mail_port": 587,
 "use_tls": 1,
 "mail_login": "your-email@gmail.com",
 "mail_password": "your_app_password",
 "auto_email_id": "your-email@gmail.com",
 "always_use_account_email_id_as_sender": 0,
 "always_use_account_name_as_sender_name": 0,
 "redis_cache": "redis://localhost:11000",
 "redis_queue": "redis://localhost:11001",
 "redis_socketio": "redis://localhost:11002",
 "socketio_port": 9000,
 "webserver_port": 8000,
 "file_watcher_port": 6787,
 "background_workers": 1,
 "gunicorn_workers": 4
}
```

---

## æ€§èƒ½ä¼˜åŒ–

### 6.1 æ•°æ®åº“ä¼˜åŒ–

```bash
# å®šæœŸä¼˜åŒ–è¡¨
bench --site your-site.com mariadb
> OPTIMIZE TABLE `tabCommodity Schedule`;
> OPTIMIZE TABLE `tabSchedule Tasks`;
> exit
```

### 6.2 ç¼“å­˜é…ç½®

åœ¨ `site_config.json` ä¸­æ·»åŠ :
```json
{
  "cache_ttl": 3600,
  "enable_prepared_report_auto_deletion": 1,
  "prepared_report_expiry_hours": 24
}
```

### 6.3 Workeré…ç½®

æ ¹æ®æœåŠ¡å™¨èµ„æºè°ƒæ•´workeræ•°é‡:
```bash
# ç¼–è¾‘supervisoré…ç½®
sudo nano /etc/supervisor/conf.d/frappe-bench.conf

# ä¿®æ”¹numprocså€¼
# default-worker: 2-4ä¸ª
# short-worker: 1-2ä¸ª
# long-worker: 1-2ä¸ª
```

### 6.4 å¯ç”¨CDN

é…ç½®é™æ€èµ„æºCDN:
```json
{
  "cdn_url": "https://cdn.your-site.com"
}
```

---

## å®‰å…¨åŠ å›º

### 7.1 é˜²ç«å¢™é…ç½®

```bash
# å®‰è£…UFW
sudo apt install ufw

# é…ç½®è§„åˆ™
sudo ufw default deny incoming
sudo ufw default allow outgoing
sudo ufw allow ssh
sudo ufw allow http
sudo ufw allow https

# å¯ç”¨é˜²ç«å¢™
sudo ufw enable
sudo ufw status
```

### 7.2 Fail2Bané…ç½®

```bash
# å®‰è£…Fail2Ban
sudo apt install fail2ban

# é…ç½®
sudo nano /etc/fail2ban/jail.local
```

```ini
[DEFAULT]
bantime = 3600
findtime = 600
maxretry = 5

[sshd]
enabled = true
port = ssh
logpath = /var/log/auth.log

[nginx-http-auth]
enabled = true
port = http,https
logpath = /var/log/nginx/error.log
```

```bash
sudo systemctl restart fail2ban
```

### 7.3 ç§»é™¤CSRFå¿½ç•¥

ç¼–è¾‘ `site_config.json`ï¼Œç§»é™¤æˆ–æ³¨é‡Š:
```json
{
  "ignore_csrf": 0
}
```

### 7.4 å®šæœŸæ›´æ–°

```bash
# åˆ›å»ºæ›´æ–°è„šæœ¬
cat > /home/frappe/update.sh << 'EOF'
#!/bin/bash
cd /home/frappe/frappe-bench
bench update --patch
bench --site your-site.com migrate
bench build --app product_sales_planning
bench --site your-site.com clear-cache
sudo supervisorctl restart all
EOF

chmod +x /home/frappe/update.sh
```

---

## ç›‘æŽ§å’Œç»´æŠ¤

### 8.1 æ—¥å¿—ç®¡ç†

```bash
# æŸ¥çœ‹æ—¥å¿—
tail -f /home/frappe/frappe-bench/logs/web.log
tail -f /home/frappe/frappe-bench/logs/worker.log
tail -f /var/log/nginx/your-site.access.log

# æ—¥å¿—è½®è½¬é…ç½®
sudo nano /etc/logrotate.d/frappe-bench
```

```
/home/frappe/frappe-bench/logs/*.log {
    daily
    rotate 14
    compress
    delaycompress
    notifempty
    missingok
    sharedscripts
    postrotate
        supervisorctl restart all > /dev/null
    endscript
}
```

### 8.2 å¤‡ä»½ç­–ç•¥

```bash
# æ‰‹åŠ¨å¤‡ä»½
bench --site your-site.com backup --with-files

# è‡ªåŠ¨å¤‡ä»½ï¼ˆæ·»åŠ åˆ°crontabï¼‰
crontab -e
```

```cron
# æ¯å¤©å‡Œæ™¨2ç‚¹å¤‡ä»½
0 2 * * * cd /home/frappe/frappe-bench && bench --site your-site.com backup --with-files

# æ¯å‘¨æ—¥å‡Œæ™¨3ç‚¹æ¸…ç†æ—§å¤‡ä»½ï¼ˆä¿ç•™30å¤©ï¼‰
0 3 * * 0 find /home/frappe/frappe-bench/sites/your-site.com/private/backups -name "*.sql.gz" -mtime +30 -delete
```

### 8.3 ç›‘æŽ§è„šæœ¬

```bash
# åˆ›å»ºç›‘æŽ§è„šæœ¬
cat > /home/frappe/monitor.sh << 'EOF'
#!/bin/bash

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
echo "=== Supervisor Status ==="
sudo supervisorctl status

echo -e "\n=== Nginx Status ==="
sudo systemctl status nginx --no-pager

echo -e "\n=== MariaDB Status ==="
sudo systemctl status mariadb --no-pager

echo -e "\n=== Redis Status ==="
sudo systemctl status redis-server --no-pager

echo -e "\n=== Disk Usage ==="
df -h

echo -e "\n=== Memory Usage ==="
free -h

echo -e "\n=== CPU Load ==="
uptime
EOF

chmod +x /home/frappe/monitor.sh
```

### 8.4 æ€§èƒ½ç›‘æŽ§

å®‰è£…ç›‘æŽ§å·¥å…·:
```bash
# å®‰è£…htop
sudo apt install htop

# å®‰è£…iotop
sudo apt install iotop

# å®‰è£…netdataï¼ˆå¯é€‰ï¼‰
bash <(curl -Ss https://my-netdata.io/kickstart.sh)
```

---

## æ•…éšœæŽ’æŸ¥

### 9.1 å¸¸è§é—®é¢˜

**é—®é¢˜1: 502 Bad Gateway**
```bash
# æ£€æŸ¥Gunicornæ˜¯å¦è¿è¡Œ
sudo supervisorctl status frappe-bench-frappe-web

# é‡å¯æœåŠ¡
sudo supervisorctl restart frappe-bench-frappe-web

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
tail -f /home/frappe/frappe-bench/logs/web.error.log
```

**é—®é¢˜2: æ•°æ®åº“è¿žæŽ¥å¤±è´¥**
```bash
# æ£€æŸ¥MariaDBçŠ¶æ€
sudo systemctl status mariadb

# æµ‹è¯•è¿žæŽ¥
bench --site your-site.com mariadb

# æ£€æŸ¥é…ç½®
cat sites/your-site.com/site_config.json
```

**é—®é¢˜3: Workerä¸å·¥ä½œ**
```bash
# æ£€æŸ¥workerçŠ¶æ€
sudo supervisorctl status | grep worker

# é‡å¯worker
sudo supervisorctl restart frappe-bench-workers:*

# æŸ¥çœ‹é˜Ÿåˆ—
bench --site your-site.com doctor
```

### 9.2 ç´§æ€¥æ¢å¤

```bash
# ä»Žå¤‡ä»½æ¢å¤
bench --site your-site.com restore /path/to/backup.sql.gz

# é‡å»ºæ•°æ®åº“
bench --site your-site.com reinstall

# æ¸…é™¤æ‰€æœ‰ç¼“å­˜
bench --site your-site.com clear-cache
bench --site your-site.com clear-website-cache
```

### 9.3 è°ƒè¯•æ¨¡å¼

```bash
# ä¸´æ—¶å¯ç”¨å¼€å‘è€…æ¨¡å¼
bench --site your-site.com set-config developer_mode 1

# æŸ¥çœ‹è¯¦ç»†é”™è¯¯
bench --site your-site.com console

# è®°å¾—å…³é—­å¼€å‘è€…æ¨¡å¼
bench --site your-site.com set-config developer_mode 0
```

---

## é™„å½•

### A. å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

```bash
# é‡å¯æ‰€æœ‰æœåŠ¡
sudo supervisorctl restart all

# é‡å¯Nginx
sudo systemctl restart nginx

# æŸ¥çœ‹æ—¥å¿—
tail -f /home/frappe/frappe-bench/logs/web.log

# è¿›å…¥benchæŽ§åˆ¶å°
bench --site your-site.com console

# æ¸…é™¤ç¼“å­˜
bench --site your-site.com clear-cache

# æ•°æ®åº“è¿ç§»
bench --site your-site.com migrate

# æž„å»ºèµ„æº
bench build --app product_sales_planning

# å¤‡ä»½
bench --site your-site.com backup --with-files

# æ›´æ–°
bench update --patch
```

### B. æ€§èƒ½åŸºå‡†

**æŽ¨èé…ç½®ä¸‹çš„æ€§èƒ½æŒ‡æ ‡**:
- å¹¶å‘ç”¨æˆ·: 100+
- å“åº”æ—¶é—´: <500ms
- æ•°æ®åº“æŸ¥è¯¢: <100ms
- é¡µé¢åŠ è½½: <2s

### C. è”ç³»æ”¯æŒ

å¦‚é‡åˆ°éƒ¨ç½²é—®é¢˜ï¼Œè¯·è”ç³»:
- æŠ€æœ¯æ”¯æŒé‚®ç®±: 571754723@qq.com
- æä¾›é”™è¯¯æ—¥å¿—å’Œç³»ç»Ÿä¿¡æ¯

---

**ç‰ˆæœ¬**: 1.0.0  
**æœ€åŽæ›´æ–°**: 2025-12-13  
**ç»´æŠ¤è€…**: å¼€å‘å›¢é˜Ÿ